<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Profile</title>
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/profilepagestyle.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Aldrich&family=Andada+Pro:ital,wght@0,400..840;1,400..840&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
</head>

<body style="background-color: #e3ecf6;">
    <div class="form-container min-h-screen w-full p-7">
        <!-- Navbar -->
        <div class="flex items-center justify-between w-full profile-nav">
            <img src="/media/Final Logo.png" alt="Logo" style="height: 100px;">
            <p class="text-4xl text-center flex-grow">Complete your profile</p>
        </div>

        <!-- Dropdown for Number of Team Members -->
        <div class="flex justify-center  mt-10">
            <label for="numMembers" class="text-xl mr-4">Number of Team Members:</label>
            <select id="numMembers" name="numMembers"
                class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                <option value="1">1</option>
                <option value="2">2</option>
            </select>
        </div>

        <!-- Profile Form -->
        <form id="profileForm" action="/update_profile" method="post" class="login-form mt-10 font-[Poppins]">

            <!-- Team Lead Details -->
            <p class="text-4xl text-center mb-14">Team Lead Details</p>
            <div class="flex justify-between mb-8 horizontal-row">
                <div class="flex flex-col gap-3 input-div">
                    <label for="fullName" class="text-xl">Full Name :</label>
                    <input type="text" name="fullName" id="fullName"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                        value="<%= user ? user.fullName : '' %>" placeholder="Fetched by Database" readonly>
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="rollNo" class="text-xl">Enrollment Number :</label>
                    <input required type="text" name="rollNo" id="rollNo"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                        placeholder="Enter your Enrollment Number">
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="gender" class="text-xl">Pronouns:</label>
                    <select id="gender" name="gender"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                        <option value="" disabled selected>Select Gender</option>
                        <option value="Mr.">Mr.</option>
                        <option value="Mrs.">Ms.</option>
                    </select>
                </div>
            </div>

            <!-- Additional Fields -->
            <div class="flex justify-between mb-8 horizontal-row">
                <div class="flex flex-col gap-3 input-div">
                    <label for="year" class="text-xl">Year :</label>
                    <select id="year" name="year"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                        <option value="" disabled selected>Select Year</option>
                        <option value="1st">1st Year</option>
                        <option value="2nd">2nd Year</option>
                    </select>
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="branch" class="text-xl">Branch :</label>
                    <select id="branch" name="branch"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                        <option value="" disabled selected>Select Branch</option>
                        <option value="cse">CSE</option>
                        <option value="aids">CSE -AI&DS</option>
                        <option value="cyber">CSE -Cyber Security</option>
                        <option value="it">CSE -IT</option>
                        <option value="mechanical">Mechanical</option>
                        <option value="electrical">Electrical</option>
                        <option value="ece">ECE</option>
                        <option value="civil">CIVIL</option>
                    </select>
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="section" class="text-xl">Section :</label>
                    <select id="section" name="section"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                        <option value="" disabled selected>Select Section</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </div>
            </div>

            <div class="flex justify-between mb-8 horizontal-row">
                <div class="flex flex-col gap-3 input-div">
                    <label for="email" class="text-xl">Email :</label>
                    <input type="text" name="email" id="email"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                        value="<%= user ? user.email : '' %>" placeholder="Fetched by Database" readonly>
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="mobileNo" class="text-xl">Contact Number :</label>
                    <input required type="text" name="mobileNo" id="mobileNo"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                        placeholder="Enter your Mobile Number">
                </div>
                <div class="flex flex-col gap-3 input-div">
                    <label for="category" class="text-xl">Category :</label>
                    <select id="category" name="category"
                        class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                        <option value="" disabled selected>Select Category</option>
                        <option value="General">General</option>
                        <option value="SC/ST">SC</option>
                        <option value="SC/ST">ST</option>
                        <option value="OBC">OBC</option>
                    </select>
                </div>
            </div>

            <!-- Add this in the existing form structure -->

            <!-- Team Member Details -->
            <div id="teamMemberDetails" class="hidden">
                <p class="text-4xl text-center m-14">Team Member Details</p>

                <div class="flex justify-between mb-8 horizontal-row">
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].fullName" class="text-xl">Full Name :</label>
                        <input  type="text" name="teamMembers[0].fullName" id="teamMembers[0].fullName memberName"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                            placeholder="Enter Team Member Full Name">
                    </div>
                    <div class="flex flex-col gap-3  input-div">
                        <label for="teamMembers[0].rollNo" class="text-xl">Enrollment Number :</label>
                        <input  type="text" name="teamMembers[0].rollNo" id="teamMembers[0].rollNo"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                            placeholder="Enter Team Member Enrollment Number">
                    </div>
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].gender" class="text-xl">Pronouns:</label>
                        <select name="teamMembers[0].gender"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                            <option value="" disabled selected>Select Gender</option>
                            <option value="Mr.">Mr.</option>
                            <option value="Mrs.">Mrs.</option>
                        </select>
                    </div>
                </div>

                <div class="flex justify-between mb-8 horizontal-row">
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].year" class="text-xl">Year :</label>
                        <select name="teamMembers[0].year"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                            <option value="" disabled selected>Select Year</option>
                            <option value="1st">1st Year</option>
                            <option value="2nd">2nd Year</option>
                        </select>
                    </div>
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].branch" class="text-xl">Branch :</label>
                        <select name="teamMembers[0].branch"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                            <option value="" disabled selected>Select Branch</option>
                            <option value="cse">CSE</option>
                            <option value="aids">CSE -AI&DS</option>
                            <option value="cyber">CSE -Cyber Security</option>
                            <option value="it">CSE -IT</option>
                            <option value="mechanical">Mechanical</option>
                            <option value="electrical">Electrical</option>
                            <option value="ece">ECE</option>
                            <option value="civil">CIVIL</option>
                        </select>
                    </div>
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].section" class="text-xl">Section :</label>
                        <select name="teamMembers[0].section"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                            <option value="" disabled selected>Select Section</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                        </select>
                    </div>
                </div>

                <div class="flex justify-between mb-8 horizontal-row">
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].email" class="text-xl">Email :</label>
                        <input  type="text" name="teamMembers[0].email" id="teamMembers[0].email"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                            placeholder="Enter Team Member Email">
                    </div>
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].mobileNo" class="text-xl">Contact Number :</label>
                        <input  type="text" name="teamMembers[0].mobileNo" id="teamMembers[0].mobileNo"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2"
                            placeholder="Enter Team Member Mobile Number">
                    </div>
                    <div class="flex flex-col gap-3 input-div">
                        <label for="teamMembers[0].category" class="text-xl">Category :</label>
                        <select name="teamMembers[0].category"
                            class="text-xl text-black outline-none border bg-gray-200 rounded-md px-4 py-2">
                            <option value="" disabled selected>Select Category</option>
                            <option value="General">General</option>
                            <option value="SC/ST">SC</option>
                            <option value="SC/ST">ST</option>
                            <option value="OBC">OBC</option>
                        </select>
                    </div>
                </div>
            </div>

           


            <!-- Submit Button -->
            <div>
                <button type="submit"
                    class="bg-[#1E2772] text-white text-xl font-semibold px-8 py-4 rounded-md mt-16">Submit
                    Details</button>
            </div>
        </form>
    </div>

    <script>

        // Get references to the dropdown and forms
        const numMembersSelect = document.getElementById('numMembers');
        const teamMemberDetails = document.getElementById('teamMemberDetails');
        const memberName = document.getElementById('input-div');
        // document.getElementsByClassName(memberName)
        
        // Event listener to toggle visibility based on selected number of team members
        numMembersSelect.addEventListener('change', () => {
            if (numMembersSelect.value === '2') {
                console.log(memberName);
                teamMemberDetails.style.display = 'block';
                // teamMembersfullName.removeAttribute("required"); 
                console.log(teamMemberDetails);
                
            } else {
                teamMemberDetails.style.display = 'none';
            }
        });

        // Initialize based on default selection (1 member by default)
        if (numMembersSelect.value === '1') {
            teamMemberDetails.style.display = 'none';
        }
        
        
    </script>
     <script>
        document.getElementById("profileForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the form from submitting immediately

            // Create a FormData object to collect the form data
            const formData = new FormData(this);

            // Convert FormData to a plain object for easy logging
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });

            // Log the collected form data
            console.log("Form Data:", formObject);

            // Optionally, you can proceed with form submission
            this.submit(); // Uncomment this line if you want the form to submit after logging
        });
    </script>
</body>

</html>
